 
 
 
 
 
 
 
APPLICATION PROGRAMM ING INTERFACE  
SPECIFICATIONS  
 
 
 
TRAFFIC DATA  
FROM  
TRAFFIC DATA ANALYTIC S SYSTEM  
 
 
 
Version: 1.1 
 
 
 
April 2022  
 
 
 
 
 
©  The Government of the Hong Kong Special Administrative Region  
 
 
 
The contents of this document remain the property of and may not be reproduced in 
whole or in part without the express permission of the Government of the HKSAR  
 

TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  i-1 
  
Amendment History  
 
Version  Revision Description  Date  
1.0 First released version  25/04/2022  
1.1 Type correction in Section 1.2.1 – Sample Request  29/04/2022  
   
   
   
   
 
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  ii-1 
  
TABLE OF CONTENTS  
 
1. TRAFFIC DATA FROM TR AFFIC DATA ANALYTICS  SYSTEM  .......................  1 
1.1 REQUEST  ................................ ................................ ................................ .....................  1 
1.2 REQUEST BODY ................................ ................................ ................................ ...........  1 
1.2.1 Sample  Request  ................................ ................................ ................................ ...... 5 
1.3 RESPONSE  ................................ ................................ ................................ ...................  5 
1.3.1 Sample Response  ................................ ................................ ................................ .... 6 
 
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  1 
 1. TRAFFIC DATA FROM TR AFFIC DATA ANALYTICS  
SYSTEM  
This API make s use of the T ransport Department  Intelligent Road N etwork (IRN) dataset 
and predictive traffic conditions data from the Traffic Data Analytic s System (TDAS) to 
provide the average traffic speed and the total journey time of the driving route from origin 
to destination . 
 
For IRN dataset, please refer to Road Network (2nd generation) dataset at 
https://data.gov.hk/en -data/dataset/hk -td-tis_15 -road-network -v2. 
1.1 Reque st  
Method  URL  
POST  https:// tdas-api.hkemobility.gov.hk /tdas/api/route   
 
1.2 Request Body  
Parameter  Details  
start Description:  
 
(Required ) The starting location  with coordinates and optional buffer 
distance .   
 
Coordinates  can be either a pair of latitude and longitude coordinate s in 
WGS84 in decimal degree s, or a pair of x and y coordinate s in HK80.   
Coordinate s must be provided.  
 
Buffer is the maximum distance used to find the closest starting edge  in 
unit of meter .  If Buffer is omitted , the system default buffer distance (50 
meters) will be used.   
 
Syntax:  
1. start: {  
        lat: < number >,  
        long: < number > , 
        buffer: < number | optional >  
} 
2. start: {  
        x: < number >,  
        y: < number > ,  
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  2 
 Parameter  Details  
        buffer: < number | optional >  
} 
 
Example:  
1. start: {  
        lat: 22.3964,  
        long: 114.1095 , 
        buffer: 50  
} 
2. start: {  
        x: 834869.80,  
        y: 818075.18 , 
        buffer: 50  
} 
 
end Description:  
 
(Required)  The destination location  with coordinates and optional buffer 
distance .   
 
Coordinates  can be either a pair of latitude and longitude coordinate s in 
WGS84 in decimal degree s, or a pair of x and y coordinate s in HK80.   
Coordinate s must be provided.  
 
Buffer  is the maximum distance used to find the closest destination edge  
in unit of meter .  If no buffer is provided, the system default buffer 
distance (50 meters) will be used.   
 
Syntax:  
1. end: {  
        lat: < number >,  
        long: < number > ,  
        buffer: < number | optional >  
} 
2. end: {  
        x: < number >,   
        y: <number> ,  
        buffer: < number | optional >  
} 
 
Example:  
1. end: {  
        lat: 22.3964,  
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  3 
 Parameter  Details  
        long: 114.1095 ,  
        buffer: 300   
} 
2. end: {  
        x: 834869.80,  
        y: 818075.18 ,  
        buffer: 100  
} 
 
departIn  Description:  
 
(Optional) The time in minutes to depart from the start location.   The 
latest departure time is 90 minutes  from current time .  If this parameter is 
omitted, departure time is assumed as the current time.  
 
Syntax:  
1. departIn : <int>  
 
Values:  
1. 0 
2. 15 
3. 30 
4. 45 
5. 60 
6. 75 
7. 90 
 
Example:  
1. departIn : 15 
 
Note:  
Please specify value of departure time from the above 7 options.  
Otherwise, the closest value to one of the options will be applied.  
 
lang Description:  
 
(Optional)  Language to be returned.  Based on the value passed in, the 
response should return in the corresponding language.  If this parameter is 
omitted, language is assumed as Traditional Chinese.  
 
 
Syntax:  
1. lang: <text>  
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  4 
 Parameter  Details  
 
Values:  
1. tc (Traditional Chinese - Default)  
2. sc (Simplified Chinese)  
3. en (English)  
 
Example:  
1. lang: tc  
 
type Description:  
 
(Optional)  The type of route to be returned . If this parameter is omitted, 
type of route is assumed as the shortest time.  
 
 
Syntax:  
1. type: <text>  
Values:  
1. ST (Shortest Time  - Default)  
2. SD (Shortest Distance)  
 
Example:  
1. type: ST  
 
tunnel  Description:  
 
(Optional)  Parameter to force the usage of a cross harbour tunnel when 
crossing between Hong Kong Island and Kowloon.  
 
Syntax:  
1. tunnel: <text >  // Code of Harbour Tunnel  
 
Value:  
1. cht (Cross -Harbour Tunnel)  
2. eht (Easter n Harbour Crossing)  
3. wht (Western Harbour Crossing)  
 
Example:  
1. tunnel: cht  
 
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  5 
 1.2.1 Sample Request  
POST /api/route HTTP/1.1  
Host: https:// tdas-api.hkemobility.gov.hk /tdas/api/route  
Content-Type: application/json  
Content-Length: 230  
 
{ 
    "start": {  
        "lat": 22.287826 , 
        "long": 114.204979  
    }, 
    "end": {  
        "lat": 22.342032 , 
        "long": 114.154581  
    }, 
    "departIn ": 15, 
    "lang": "en",  
    "type": "ST" , 
    "tunnel": "wht" 
} 
1.3 Response  
Status  Response  
200 { 
    jSpeed  : <text>,  // Overall average journey speed in km/h  
    distM : <number>,  // Total distance in meter  
    distU : <text>,  // Total distance with unit   
    eta : <time>,   // Estimated journey  time in hh:mm  
    cht : <bool>,  // Used Cross -Harbour Tunnel  
    wht : <bool>,  // Used Western Harbour Crossing   
    eht : <bool>,  // Used Eastern Harbour Crossing   
 
    ar: [{  // Alternate Route  (If cross ing harbour)  
        name  : <text>,  // Name of harbour tunnel (cht, wht, eht)   
        distU : <text>,  // Total distance with unit  
        eta : <text>,  // Estimated journey  time in hh:mm  
     }], 
 
    route: [{  // List of Route  
        start : {  // Start location for this part of the route  
            intersect  : [double],  // Pair of coordinate for the start location  
            rid  : <int>  // Route_ID of Centreline  feature in IRN   
        }, 
        end : {  // End location for this part of the route  
            intersect  : [double],  // Pair of coordinate for the end location  
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  6 
 Status  Response  
            rid : <int>  // Route_ID of Centreline feature in IRN  
        }, 
        segment: [{  // List of Segments  
            dir : <int>,  // Travel Direction Code [0 – 4] 
0. turn to   
1. keep / turn left to  
2. keep / turn right to  
3. keep going to  
4. turn around to  
            rid : [<int>],  // Route_ID(s) of Centreline feature in IRN  
            ped: [{   // Pedestrian Zone (if applicable)  
              id : <int>,  // PED_ZONE_ID  
  // of Pedestrian_Zone feature in IRN  
              desc : <text>  // Description  
            }], 
        }] 
   }] 
} 
 
400 Bad Request   
{ 
    "Message":  "No route  is available.  Please review the location(s) of 
origin and/or destination. " 
} 
 
{ 
    "Message":  " No road centreline is found within 50m from the 
[start/end] location."  
} 
 
500 Internal S erver  Error  
 
1.3.1 Sample Response  
{ 
    "jSpeed": "50 km/h", 
    "distM": 15605, 
    "distU": "15.6 km", 
    "eta": "00:20", 
    "cht": false, 
    "eht": false, 
    "wht": true, 
    "ar": [ 
        { 
            "name": "cht", 
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  7 
             "distU": "17.97 km", 
            "eta": "00:32" 
        }, 
        { 
            "name": "eht", 
            "distU": "22.16 km", 
            "eta": "00:29" 
        } 
    ], 
    "route": [ 
        { 
            "start": { 
                "rid": 3086, 
                "intersect" : [ 
                    22.287826 , 
                    114.204979  
                ] 
            }, 
            "end": { 
                "rid": 268304, 
                "intersect" : [ 
                    22.342032 , 
                    114.154581  
                ] 
            }, 
            "segment" : [ 
                { 
                    "dir": 3, 
                    "rid": [ 
                        3086 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        5461 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        2222, 
                        1728 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        3652, 
                        2514, 
                        768, 
                        2893, 
                        2779, 
                        3732 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        3655, 
                        2264 
                    ] 
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  8 
                 }, 
                { 
                    "dir": 2, 
                    "rid": [ 
                        3261, 
                        3366 
                    ] 
                }, 
                { 
                    "dir": 2, 
                    "rid": [ 
                        1724, 
                        5801 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        276724, 
                        2501, 
                        4636, 
                        263344 
                    ] 
                }, 
                { 
                    "dir": 2, 
                    "rid": [ 
                        261655 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        262806, 
                        261670 
                    ] 
                }, 
                { 
                    "dir": 2, 
                    "rid": [ 
                        265822, 
                        265823, 
                        263312 
                    ] 
                }, 
                { 
                    "dir": 2, 
                    "rid": [ 
                        263307, 
                        263309, 
                        263308, 
                        262781, 
                        5741, 
                        1061, 
                        5229, 
                        5134, 
                        458, 
                        3594, 
                        3345, 
                        106784, 
                        105994, 
                        105595, 
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  9 
                         163857 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        106932 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        106925 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        105599, 
                        106937 
                    ] 
                }, 
                { 
                    "dir": 2, 
                    "rid": [ 
                        106735, 
                        106736, 
                        107044, 
                        106153, 
                        107062, 
                        106233, 
                        106185, 
                        107060, 
                        106184 
                    ] 
                }, 
                { 
                    "dir": 2, 
                    "rid": [ 
                        7709, 
                        7703, 
                        7411, 
                        7713, 
                        9317, 
                        9012, 
                        106350, 
                        106695, 
                        106340 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        110024 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        106321 
                    ] 
                }, 
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  10 
                 { 
                    "dir": 2, 
                    "rid": [ 
                        9330 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        8294 
                    ] 
                }, 
                { 
                    "dir": 2, 
                    "rid": [ 
                        7685 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        8978, 
                        9015, 
                        8629 
                    ] 
                }, 
                { 
                    "dir": 2, 
                    "rid": [ 
                        9618, 
                        115794, 
                        8308, 
                        261355, 
                        261354, 
                        106592, 
                        261352, 
                        261353, 
                        106623, 
                        106624, 
                        106583, 
                        106640, 
                        106602 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        106584 
                    ] 
                }, 
                { 
                    "dir": 2, 
                    "rid": [ 
                        106567 
                    ] 
                }, 
                { 
                    "dir": 1, 
                    "rid": [ 
                        106521 
                    ] 
                }, 
TRAFFIC DATA FROM TRAFFIC DATA ANALYTIC S SYSTEM  API SPECIFICATIONS  
  11 
                 { 
                    "dir": 1, 
                    "rid": [ 
                        268303, 
                        271145, 
                        268304 
                    ] 
                } 
            ] 
        } 
    ] 
} 
 
 